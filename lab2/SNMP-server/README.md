# Лабораторная работа № 2s
Реализация SNMP-агента (сервера) 

# Описание протокола
SNMP - это протокол, позволяющий универсально управлять любыми устройствами и их конфигурацией.
Внутри себя протокол использует базу данных MIB, представляющую все задачи управления в виде дерева переменных, которое одинаково для всех устройств.

В протоколе описаны несколько типов команд:
1. `get request` - команда для получения значения указанной переменной;
2. `get next request` - команда для получения значения следующей доступной переменной (переменной со следующим логическим идентификатором в базе MIB);
3. `set request` - команда для присвоения значения для соответствующей переменной;
4. `get response` - отклик SNMP-агента на одну из ранее описанных команд;
5. `trap` - уведомление от SNMP-агента о том, что произошло какое-либо критическое событие.

Порт агента: `161`  
Порт менеджера: `162`

Формат SNMP сообщения следующий:

| Версия | Community | Тип PDU | Идентификатор запроса | Статус ошибки | Индекс ошибки | Связанные переменные|
|--------|-----------|---------|-----------------------|---------------|---------------|---------------------|

`Версия` - номер версии SNMP.

`Community` - пароль для взаимодействия между менеджером и объектом управления.

`Тип PDU` - тип команды.

`Идентификатор запроса` - значение, устанавливаемое менеджером и возвращаемое обратно в get response для того, чтобы идентифицировать на какой запрос какой ответ пришел.

`Статус ошибки` - значение, устанавливаемое SNMP-агентом при возникновении ошибки, которое говорит о том, какая ошибка произошла.

`Индекс ошибки` - значение, говорящее о том, в какой переменной произошла ошибка.

`Связанные переменные` - одна или несколько переменных, участвующих в запросе.

Все поля сообщения кодируются в ASN.1 формате, означающем, что у каждого поля существует несколько субполей, а именно:

| Тип поля | Длина поля | Значение поля |
|----------|------------|---------------|

В зависимости от ситуации, некоторые из субполей могут отсутствовать.

# Инструкция для использования

Для запуска SNMP-агента необходимо ввести следующую команду:

```python snmpserv.py --port [значение порта] --config [имя файла конфига] --version [версия SNMP]```

По умолчанию значение порта 161, имя файла конфига, находящегося в одной папке с файлом агента - config.py, версия SNMP - 1.
