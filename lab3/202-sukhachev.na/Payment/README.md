# Платежная система

## endpoints:

* GET /getValue - узнать баланс аккаунта
    
    Формат ответа:
    
    ```
        value: int
    ```
  
    Формат ожидаемых данных:
    
    id - уникальный идентификатор аккаунта
    
    password - пароль от аккаунта
    
    Авторизация через Basic authentication
    
    auth = (id, password)
    
    Возвращаемые ошибки:
    
    401 - Неверный пароль
    
    400 - Аккаунт с таким ID не существует или был удалён
    
* POST /createAccount - создать аккаунт

    Формат ожидаемых данных:
    
    name - имя владельца аккаунта
    
    password - пароль от аккаунта
     
    ```
        {
            'password': string,
            'name': string
        }
     ```
  
    Формат возвращаемых данных:
    
    id - уникальный идентификатор аккаунта
    
    ```
        id: string
    ```
  
    Возвращаемые ошибки:
    
    нет
    
* POST /sendMoney - отправить деньги другому пользователю

    Формат ожидаемых данных:
    
    sender - уникальный идентификатор отправителя
    
    receiver - уникальный идентификатор получателя
    
    password - пароль от аккаунта
    
    sum - сумма перевода
    
    Авторизация через Basic authentication
    
    auth = (id, password)
    
    ```
        {
            'receiver': string,
            'sum': int | string,
        }
     ```
  
    Возвращаемые ошибки:
    
    401 - Неверный пароль
    
    400 :
    * Аккаунт с таким ID не существует или был удалён
    * Невозможно перевести деньги, проверьте реквизиты
    
* DELETE /deleteAccount - удалить аккаунт
    
    Формат ожидаемых данных:
    
    id - уникальный идентификатор аккаунта
     
    password - пароль от аккаунта
 
    Авторизация через Basic authentication
    
    auth = (id, password)
  
   Возвращаемые ошибки:
    
   401 - Неверный пароль
    
   400 - Аккаунт с таким ID не существует или был удалён
   
* GET /getClientList - получение списка клиентов 

    Формат возвращаемых данных:
      
     id - уникальный идентификатор аккаунта
      name - имя владельца
      
     ключ - идентификатор, значение - имя аккаунта
      
    ```
    {
        'id': string,
     ...
    }
    ```
  
* POST /addMoney - пополнение баланса аккаунта администратором

    Формат ожидаемых данных:
    
    id - уникальный идентификатор аккаунта
     
    password - пароль администратора
    
    sum - сумма, на которую надо изменить баланс аккаунта
 
    Авторизация через Basic authentication
    
    auth = ('ADMIN', password)
    ```
       {
           'id': string,
           'sum' : int | string
       }
    ```

   Возвращаемые ошибки:
    
   401 - Неверный пароль
    
   400 - Аккаунт с таким ID не существует или был удалён
   
* GET /getHistory - получить историю операций
 
    password - пароль администратора
 
    ```
       password: string
    ```

    Возвращаемые ошибки:
    
   401 - Неверный пароль
    
    

    
    