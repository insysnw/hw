# Электронный магазин

## endpoints:

* GET /getProductList - возвращает список товаров, доступных для покупки

    Формат ответа:
    
    id - уникальный идентификатор продукта
    
    productName - название продукта
    
    price - цена продукта
    
    count - количество продукта в наличии
    
    ```
    {
    'id': {
            "product": {
                'id': string,
                'productName': string,
                'price': int
            },
            "count": int
        },
    ...
    }
    ```
  
    Возвращаемые ошибки:
    
    нет. 
    
* POST /addProduct - добавление нового продукта в систему, требуется 
пароль администратора
    
    Формат принимаемых данных:
    
    password - пароль администратора
    
    productName - название продукта
    
    price - цена продукта
    
    count - количество продукта в наличии
    
    Авторизация через Basic authentication
    
    auth = ('ADMIN', password)
    
    ````
    {   
        'productName': string,
        'price': string | int,
        'count': string | int
        
    }
    
    ````
  
    Возвращаемые ошибки:
    
    401 - Неверный пароль.
    
    400 - Неверные данные. Например: не передали имя продукта, цена или количество 
    товара отрицательные
    
 * DELETE /deleteProduct - удаление продукта по уникальному 
 идентификатору
 
    Формат принимаемых данных:
    
    password - пароль администратора
    
    id - уникальный идентификатор продукта
    
    Авторизация через Basic authentication
    
    auth = ('ADMIN', password)
    
    ````
   {
    'id': string
   }
    ````
 
    Возвращаемые ошибки:
    
    401 - Неверный пароль.
    
    400 - Продукта с таким идентификатором нет ( не существовал или был удален ранее )
    
* POST /checkout - оформление покупки, возвращает итоговую цену всех позиций в заказе

    Формат принимаемых данных:
    
    id - уникальный идентификатор продукта
    
    productName - название продукта
    
    price - цена продукта
    
    count - количество покупаемого продукта
    
    ```
    {
    'id': {
            "product": {
                'id': string,
                'productName': string,
                'price': int
            },
            "count": int
        },
    ...
    }
    ```
  
  Формат ответа:
  
  sum - сумма всех позиций в заказе
  ```
   sum
  ```
  
   Возвращаемые ошибки:
    
    400:
    
    Ответ с ошибкой отправляется при встрече первой проблемной позиции в заказе
    
    * Товар с id = X  не существует. Где X идентификатор несуществущего товара.
    * Товара name в наличии всего N,  в вашем заказе M. Где N - количество товара в наличии, 
    а M - количество товара в заказе.
    